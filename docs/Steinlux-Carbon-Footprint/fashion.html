<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>時尚</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/all.css" />
    <link rel="stylesheet" href="css/story.css" />
    <style>
      .fashion-row {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-around;
        width: 90%;
        gap: 32px;
        border-radius: 12px;
        padding: 20px;
      }

      .fashion-box {
        flex: 1;
        display: flex;
        flex-direction: column;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 32px;
        padding: 1rem 1.25rem;
        text-align: center;
        gap: 0.75rem;
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
      }

      .fashion-box::before {
        content: "";
        position: absolute;
        inset: 0;
        -webkit-box-shadow:
        inset -8.5px -2.25px 0 -6.75px rgb(255, 255, 255), 
        inset 8.5px 2.25px 0 -6.75px rgb(255, 255, 255),
        inset -2.75px -8.5px 0 -7px rgb(255, 255, 255), 
        inset 2.75px 8.5px 0 -7px rgb(255, 255, 255),
        0 0 0 0.2px rgb(255, 255, 255),
        2px 2px 12px 0px rgba(110, 110, 110, 0.15);
        box-shadow:
        inset -8.5px -2.25px 0 -6.75px rgb(255, 255, 255), 
        inset 8.5px 2.25px 0 -6.75px rgb(255, 255, 255),
        inset -2.75px -8.5px 0 -7px rgb(255, 255, 255), 
        inset 2.75px 8.5px 0 -7px rgb(255, 255, 255),
        0 0 0 0.2px rgb(255, 255, 255),
        2px 2px 12px 0px rgba(110, 110, 110, 0.15);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        z-index: -1;
        border-radius: 32px;
      }

      .fashion-box .question-title {
        font-family: "GenSenRounded2TW-R", sans-serif;
        color: #9c7a5c;
        line-height: 1.2;
      }

      .fashion-box label {
        display: block;
        font-family: "GenSenRounded2TW-R", sans-serif;
        color: #9c7a5c;
        line-height: 1.2;
      }

      .fashion-box span {
        font-family: "GenSenRounded2TW-L", sans-serif;
        font-weight: normal;
        color: #6c808f;
      }

      .fashion-box .input-container {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px
      }

      @media (max-width: 600px) {
        .fashion-row {
          justify-content: center;
          width: 70%;
        }
      }
    </style>
  </head>
  <body>
    <!-- 故事劇情 -->
    <div class="story-body">
      <div class="story-container">
      <header class="story-header">
        <div class="story-header-title">
          <div class="story-header-title-lt">
            <div class="story-header-profile-photo"></div>
            <h1>Neo(2)</h1>
            <i class="fa-solid fa-volume-low" style="color: #6c808f;"></i>
          </div>
          <div class="story-header-title-rt">
            <i class="fa-solid fa-phone"></i>
            <i class="fa-solid fa-ellipsis-vertical"></i>
          </div>
        </div>
      </header>

      <div class="story-chat-container" id="chatContainer"></div>

      <div class="input-container">
        <div class="input-wrapper">
          <input
            type="text"
            class="message-input"
            placeholder="請輸入訊息..."
            aria-label="Message input"
          />
          <div class="action-buttons">
            <button id="send-button" class="send-button" >
              <span>出發</span>
              <i class="fa-regular fa-font-awesome"></i>
            </button>
          </div>
        </div>
      </div>
      </div>
    </div>

    <section id="scene-fashion" class="scene scene-1">
      <Chapter-Bar></Chapter-Bar>
      <div class="slideContainer">
        <h1>一年度購買的衣物金額？​</h1>
        <div class="page-indicator">
          <div class="bar-container dynamic-bar-container">
            <div class="bar-hit-area">
              <span class="bar active"></span>
            </div>
          </div>
        </div>
        <div class="fashion-row">
          <div class="fashion-box">
            <span class="question-title">快時尚</span>
            <label for="fastFashionInput">一年共花費</label>
            <div class="input-container">
              <div class="custom-number-input">
                <button type="button" class="btn-decrement">
                  <span class="decrement">-</span>
                </button>
                <input type="number" value="0" min="0" />
                <button type="button" class="btn-increment">
                  <span class="increment">+</span>
                </button>
              </div>
              <span>元</span>
            </div>
          </div>
          <div class="fashion-box">
            <span class="question-title">奢華時尚</span>
            <label for="luxuryFashionInput">一年共花費</label>
            <div class="input-container">
              <div class="custom-number-input">
                <button type="button" class="btn-decrement">
                  <span class="decrement">-</span>
                </button>
                <input type="number" value="0" min="0" />
                <button type="button" class="btn-increment">
                  <span class="increment">+</span>
                </button>
              </div>
              <span>元</span>
            </div>
          </div>
        </div>
      </div>

      <button class="nav-btn prev-btn" onclick="window.location.href='food.html'">
        ‹
      </button>
      <button class="nav-btn next-btn" onclick="window.location.href='entertainment.html'">
        ›
      </button>
    </section>
  <script src="./js/all.js"></script>
  <script>
        const messages = [
        {
          type: "time",
          text: "上午 9:30",
          time: 1000,
        },
        { text: "歡迎光臨「週週新品」的快時尚星球！這件衣服昨天還在孟加拉，今天已經在你購物車裡了喔！", 
          from: "cat",
          time: 2000, 
        },
        {
          text: "我才剛買的這件T恤，是從地球另一端來的？！",
          from: "user",
          time: 1500,
        },
        {
          text: "是啊，從棉花田的播種、紡線、染整、縫製、包裝、船運、上架、退貨、丟掉...一件衣服的生命歷程，簡直像在參加全球碳馬拉松。",
          from: "cat",
          time: 2500,
        },
        { text: "但大家都說便宜又多才好啊...買一送一、第二件五折，多划算！", 
          from: "user",
          time: 1800, },
        {
          text: "快時尚催生了「買→穿→丟」的短命循環，每件衣服平均壽命不到10次穿搭，剩下的...就被丟進垃圾山的碳記憶裡了。",
          from: "cat",
          time: 2500,
        },
        { text: "我開始有點懷念小時候那件穿五年的體育服了...", from: "user" },
      ];

      const chatContainer = document.getElementById("chatContainer");

      function createMessageElement(message) {
        if (message.type === "time") {
          const timeEl = document.createElement("div");
          timeEl.classList.add("story-time-stamp");
          timeEl.textContent = message.text;
          return timeEl;
        }

        const wrapper = document.createElement("div");
        wrapper.classList.add(
          "story-message",
          message.from === "user"
            ? "story-user-message"
            : "story-cat-message"
        );

        const avatar = document.createElement("div");
        avatar.classList.add("story-avatar");
        avatar.textContent = message.from === "user" ? "U" : "A";

        const bubble = document.createElement("div");
        bubble.classList.add("story-message-bubble");
        bubble.textContent = message.text;

        wrapper.appendChild(avatar);
        wrapper.appendChild(bubble);
        return wrapper;
      }

    async function playIntroMessages() {
      for (let i = 0; i < messages.length; i++) {
        const el = createMessageElement(messages[i]);
        const messageTime = messages[i].time;
        chatContainer.appendChild(el);
        chatContainer.scrollTop = chatContainer.scrollHeight;
        await new Promise((resolve) => setTimeout(resolve, messageTime));
      }
    }

      window.addEventListener("DOMContentLoaded", playIntroMessages);
  </script>
  </body>
</html>
